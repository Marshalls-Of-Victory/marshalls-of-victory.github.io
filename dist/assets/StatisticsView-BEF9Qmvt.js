import{_ as g,o as a,a as n,b as i,w as f,d as s,t as r,e as h,l as b,v as w,m as y,F as p,g as _}from"./index-Trttu-MO.js";const V={id:"loginContainer"},$={key:0},S={class:"alert alert-danger",role:"alert"},v={class:"form-group"},O={methods:{sent(){},response(o){console.warn("WysÅ‚ano"),o.success&&(console.warn("Sukces"),console.warn("Data: "+JSON.stringify(o.data)),o.data.logged?(console.warn("Otrzymano"),this.$emit("statsLogged",o.data)):this.errorMessage="An error occured.")}},data(){return{errorMessage:"",form:{},data:{}}}},k=Object.assign(O,{__name:"Login",setup(o){return(t,e)=>(a(),n("span",V,[i(y,{role:"form",action:"/assets/php/utils/getStats.php",onFormResponse:t.response,model:t.form,onSent:t.sent},{default:f(()=>[t.errorMessage!=""?(a(),n("span",$,[s("div",S,r(t.errorMessage),1)])):h("",!0),s("div",v,[e[1]||(e[1]=s("label",{for:"exampleInputPassword1"},"Password",-1)),b(s("input",{type:"password",class:"form-control",id:"exampleInputPassword1",placeholder:"Password","onUpdate:modelValue":e[0]||(e[0]=l=>t.form.password=l)},null,512),[[w,t.form.password]])]),e[2]||(e[2]=s("br",null,null,-1)),e[3]||(e[3]=s("button",{class:"btn btn-primary"},"Enter",-1))]),_:1},8,["onFormResponse","model","onSent"])]))}}),L=g(k,[["__scopeId","data-v-0cb5daef"]]),C={data(){return{}},methods:{getTotalVisits(o){let t=0;for(const[e,l]of Object.entries(o))t+=l;return t},getUniqueVisitors(o){let t=0;for(const[e,l]of Object.entries(o))t++;return t}},created(){},props:{data:{type:Object,default:{}}}},M={class:"statsContainer"},j={class:"table"},I={scope:"row"},N={scope:"row"},P={class:"list-group"};function D(o,t,e,l,J,R){return a(),n("span",M,[t[1]||(t[1]=s("h2",null,"Custom link visit statistics",-1)),s("table",j,[t[0]||(t[0]=s("thead",null,[s("tr",null,[s("th",{scope:"col"},"Code"),s("th",{scope:"col"},"Description (?)"),s("th",{scope:"col"},"Total Visits"),s("th",{scope:"col"},"Unique Visitors"),s("th",{scope:"col"},"Visitor IPs and their visit counts")])],-1)),s("tbody",null,[(a(!0),n(p,null,_(e.data.codes,(d,u)=>(a(),n("tr",null,[s("th",I,r(u),1),s("th",N,r(e.data.descs[u]!=null?e.data.descs[u]:""),1),s("td",null,r(this.getTotalVisits(d)),1),s("td",null,r(this.getUniqueVisitors(d)),1),s("td",null,[s("ul",P,[(a(!0),n(p,null,_(d,(m,c)=>(a(),n("span",null,r(c+(e.data.aliases[c]!=null?" ("+e.data.aliases[c]+")":""))+": "+r(m),1))),256))])])]))),256))])])])}const F=g(C,[["render",D],["__scopeId","data-v-98960ba2"]]),T={key:0},U={key:1},q={data(){return{got:!1,data:{}}},methods:{logged(o){this.got=!0,this.data=o.info,console.log("Logged successfully! "+JSON.stringify(o))}}},B=Object.assign(q,{__name:"Main",setup(o){return(t,e)=>t.got?(a(),n("span",T,[i(F,{data:t.data},null,8,["data"])])):(a(),n("span",U,[i(L,{onStatsLogged:t.logged},null,8,["onStatsLogged"])]))}}),E={id:"page-top"},A={__name:"StatisticsView",setup(o){return(t,e)=>(a(),n("body",E,[i(B)]))}};export{A as default};
