import{r as h,o as n,a as o,d as e,e as m,n as y,t as r,f as c,b as p,w as b,c as S,F as u,g as f,u as _,E as d,L as D,h as g,i as w,j as I,k as R}from"./index-Trttu-MO.js";const $={class:"col mb-5",style:{height:"100%"}},x={class:"card",id:"productcard"},v={key:0},E=["src"],k={class:"card-body p-4"},T={class:"text-center"},L={class:"fw-bolder"},V={class:"d-flex justify-content-center small mb-2"},P=["innerHTML"],C={class:"card-footer p-4 pt-0 border-top-0 bg-transparent"},j={class:"text-center"},N={data(){return{html:"<span en = 'Show more' pl = 'Pokaż więcej'></span>"}},computed:{link(){return"/releases?releaseID="+this.releaseID}},created(){console.log("Creating release: "+this.title)},props:{releaseID:{type:String,default:""},title:{type:String,default:"Example title"},imageSrc:{type:String,default:"https://dummyimage.com/600x700/dee2e6/6c757d.jpg"},type:{type:String,default:"Single"},releaseDate:{type:String,default:"22-11-2024"},upcoming:{type:Boolean,default:!1}}},O=Object.assign(N,{__name:"ReleaseItem",setup(s){return(t,a)=>{const i=h("RouterLink");return n(),o("div",$,[e("div",x,[s.upcoming?(n(),o("span",v,a[0]||(a[0]=[e("span",{class:"badge m-1 bg-danger",style:{position:"absolute","z-index":"999"},pl:"Premiera wkrótce",en:"Upcoming release"},null,-1)]))):m("",!0),e("img",{class:"card-img-top",src:s.imageSrc,alt:"...",style:y("filter: brightness("+(s.upcoming?50:100)+"%);")},null,12,E),e("div",k,[e("div",T,[e("h5",L,r(s.title),1),e("div",V,[c(r(s.releaseDate.split("-")[2]+" • ")+" ",1),e("span",{innerHTML:s.type,style:{"margin-left":"3px"}},null,8,P)])])]),e("div",C,[e("div",j,[p(i,{class:"btn btn-outline-dark mt-auto",to:`/releases?releaseID=${s.releaseID}#productParent`},{default:b(()=>a[1]||(a[1]=[e("span",{en:"Show more",pl:"Pokaż więcej"},null,-1)])),_:1},8,["to"])])])])])}}}),M={key:0},H={class:"py-5",id:"productParent"},z={class:"container px-4 px-lg-5 my-5"},A={class:"row gx-4 gx-lg-5 align-items-center"},B={class:"col-md-6"},F=["src"],Q={class:"col-md-6"},G={class:"small mb-1",id:"releaseDate"},Y=["innerHTML"],q={class:"display-5 fw-bolder",id:"releaseTitle"},U=["innerHTML"],W={class:"container px-4 px-lg-5 my-5",id:"releaseCredits"},K={key:0},J=["innerHTML"],X={key:1},Z={data(){return{display:!1,release:null}},methods:{checkValidation(){console.log("VALIDATION PROCESSSSSSSSSSSSSSSSSSSSS");let s=D.getParameter("releaseID");console.warn("PROVIDED ID: "+s);let t=g();console.log(t.data.releases),s!=null&&t.data.releases.find(a=>a.releaseID==s)!=null?(this.display=!0,this.release=t.data.releases.find(a=>a.releaseID==s),console.warn("DISPLAYING RELEASE INFO")):(this.display=!1,console.warn("WRONG ID PROVIDED"))}},created(){console.log("Creating release: "+this.title)},mounted(){d.on("response",s=>{s.success&&s.data[0].visible&&this.checkValidation()}),d.on("routeChanged",()=>{console.log("RECIEVED SIGNAL"),this.checkValidation()})},unmounted(){d.off("routeChanged"),d.off("response")}},ee=Object.assign(Z,{__name:"ReleaseInfo",setup(s){return(t,a)=>t.display?(n(),o("span",M,[e("section",H,[a[3]||(a[3]=e("br",null,null,-1)),e("div",z,[e("div",A,[e("div",B,[e("img",{class:"card-img-top mb-5 mb-md-0",id:"releaseImage",src:t.release.imagePath,alt:"...",style:{"aspect-ratio":"1/1"}},null,8,F)]),e("div",Q,[e("div",G,[c(r(t.release.date+" • ")+" ",1),e("span",{innerHTML:t.release.releaseType},null,8,Y)]),e("h1",q,r(t.release.title),1),e("p",{class:"lead",id:"releaseDescription",innerHTML:t.release.description},null,8,U),a[0]||(a[0]=S('<div class="d-flex"><a class="btn btn-outline-danger btn-social mx-1" href="https://www.youtube.com/@MarshallsOfVictory" id="releaseYoutube"><i class="fab fa-fw fa fa-brands fa-youtube"></i></a><a class="btn btn-outline-success btn-social mx-1" href="https://open.spotify.com/artist/4jF1QqUjTztQ0x6iC7VSdh?si=6hroWnx5ToKputQYX9C99g" id="releaseSpotify"><i class="fab fa-fw fa fa-brands fa-spotify"></i></a><a class="btn btn-outline-pink btn-social mx-1" href="https://music.apple.com/pl/artist/marshalls-of-victory/1776336930?l=pl" id="release"><i class="fab fa-fw fa fa-brands fa-apple"></i></a><a class="btn btn-outline-darkinfo btn-social mx-1" href="https://music.amazon.com/artists/B0DLBM9Q83/marshalls-of-victory" id="releaseAmazon"><i class="fa-brands fa-amazon"></i></a></div>',1))])])]),e("div",W,[c(r(console.log("CREDITS KEYS"))+" ",1),(n(!0),o(u,null,f(Object.entries(t.release.credits),([i,l])=>(n(),o("span",null,[c(r(console.log(`${i}`))+" ",1),i!=""?(n(),o("span",K,[e("b",null,[e("span",{innerHTML:i},null,8,J),a[1]||(a[1]=c(": "))]),c(r(l),1)])):(n(),o("span",X,r(l),1)),a[2]||(a[2]=e("br",null,null,-1))]))),256)),c(" "+r(_(d).emit("refreshTranslator")),1)])])])):m("",!0)}}),se={data(){return{}},methods:{async makeRequest(s){try{const t=await w.post(s,{});this.$emit("response",{success:!0,data:t.data}),d.emit("response",{success:!0,data:t.data}),console.log("Response - try");return}catch(t){this.$emit("response",{success:!1,error:t}),d.emit("response",{success:!1,error:t}),console.log("Response - error")}}},created(){let s="";this.makeRequest(s+this.action),console.log("REQUEST HTTP: "+s+this.action)},props:{action:{type:String,default:""}}},te=Object.assign(se,{__name:"PHPDataDownloader",setup(s){return(t,a)=>null}}),ae={class:"py-5 bg-light"},ne={class:"container px-4 px-lg-5 mt-5"},oe={key:0,class:"row gx-4 gx-lg-5 row-cols-2 row-cols-md-3 row-cols-xl-4 justify-content-left",id:"allReleases"},le={data(){return{html:"",pageLoaded:!1,releases:[],message:""}},methods:{onResponse(s){console.log("onResponse - RECIEVED EVENT"),console.log("Success: "+s.success),console.log("Data: "+JSON.stringify(s.data));var t=g();t.data.releases=s.data,this.pageLoaded=!0,d.emit("refreshTranslator")},async getReleases(){console.log("ENV:production")}},created(){this.getReleases()}},re=Object.assign(le,{__name:"Main",setup(s){var t=g();return t.data.releases==null&&t.$patch({data:{releases:[]}}),(a,i)=>(n(),o(u,null,[p(I),p(ee),e("section",ae,[e("div",ne,[i[0]||(i[0]=e("h2",{class:"fw-bolder mb-4"},[e("br"),e("span",{en:"All Releases",pl:"Wszystkie wydania"})],-1)),a.pageLoaded?(n(),o("div",oe,[(n(!0),o(u,null,f(_(t).data.releases,l=>(n(),o("span",null,[c(r(console.log("[DEB] Creating release: "+l.releaseID+", type: "+l.releaseType))+" ",1),p(O,{upcoming:l.upcoming,releaseID:l.releaseID,title:l.title,imageSrc:l.imagePath,type:l.releaseType,releaseDate:l.date},null,8,["upcoming","releaseID","title","imageSrc","type","releaseDate"])]))),256))])):m("",!0)])]),p(R),p(te,{action:"/assets/php/releases/getReleases.php",onResponse:a.onResponse},null,8,["onResponse"])],64))}}),ie={id:"page-top"},de={__name:"ReleasesView",setup(s){return(t,a)=>(n(),o("body",ie,[p(re)]))}};export{de as default};
