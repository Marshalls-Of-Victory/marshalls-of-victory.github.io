import{r as h,o,a as r,d as e,e as m,t as i,f as c,b as p,w as y,c as S,F as u,g,u as f,E as d,h as _,i as b,j as D,k as w}from"./index-DhHXmu2j.js";const $={class:"col mb-5"},I={class:"card h-100"},R={key:0},E=["src"],v={class:"card-body p-4"},k={class:"text-center"},x={class:"fw-bolder"},T={class:"d-flex justify-content-center small mb-2"},L=["innerHTML"],V={class:"card-footer p-4 pt-0 border-top-0 bg-transparent"},P={class:"text-center"},C={data(){return{html:"<span en = 'Show more' pl = 'Pokaż więcej'></span>"}},computed:{link(){return"/releases?releaseID="+this.releaseID}},created(){console.log("Creating release: "+this.title)},props:{releaseID:{type:String,default:""},title:{type:String,default:"Example title"},imageSrc:{type:String,default:"https://dummyimage.com/600x700/dee2e6/6c757d.jpg"},type:{type:String,default:"Single"},releaseDate:{type:String,default:"22-11-2024"},upcoming:{type:Boolean,default:!1}}},N=Object.assign(C,{__name:"ReleaseItem",setup(t){return(s,a)=>{const l=h("RouterLink");return o(),r("div",$,[e("div",I,[t.upcoming?(o(),r("span",R,a[0]||(a[0]=[e("span",{class:"badge m-1 bg-danger",style:{position:"absolute"},pl:"Premiera wkrótce",en:"Upcoming release"},null,-1)]))):m("",!0),e("img",{class:"card-img-top",src:t.imageSrc,alt:"..."},null,8,E),e("div",v,[e("div",k,[e("h5",x,i(t.title),1),e("div",T,[c(i(t.releaseDate.split("-")[2]+" • ")+" ",1),e("span",{innerHTML:t.type,style:{"margin-left":"3px"}},null,8,L)])])]),e("div",V,[e("div",P,[p(l,{class:"btn btn-outline-dark mt-auto",to:`/releases?releaseID=${t.releaseID}`},{default:y(()=>a[1]||(a[1]=[e("span",{en:"Show more",pl:"Pokaż więcej"},null,-1)])),_:1},8,["to"])])])])])}}});class O{static getParameter(s){let a=null,l=[];return location.search.substr(1).split("&").forEach(function(n){l=n.split("="),l[0]===s&&(a=decodeURIComponent(l[1]))}),a}}const M={key:0},j={class:"py-5",id:"productParent"},H={class:"container px-4 px-lg-5 my-5"},A={class:"row gx-4 gx-lg-5 align-items-center"},B={class:"col-md-6"},F=["src"],G={class:"col-md-6"},U={class:"small mb-1",id:"releaseDate"},Y=["innerHTML"],q={class:"display-5 fw-bolder",id:"releaseTitle"},W=["innerHTML"],z={class:"container px-4 px-lg-5 my-5",id:"releaseCredits"},J={key:0},K=["innerHTML"],Q={key:1},X={data(){return{display:!1,release:null}},methods:{checkValidation(){console.log("VALIDATION PROCESSSSSSSSSSSSSSSSSSSSS");let t=O.getParameter("releaseID"),s=_();console.log(s.data.releases),t!=null&&s.data.releases.find(a=>a.releaseID==t)!=null?(this.display=!0,this.release=s.data.releases.find(a=>a.releaseID==t),console.warn("DISPLAYING RELEASE INFO")):(this.display=!1,console.warn("WRONG ID PROVIDED"))}},created(){console.log("Creating release: "+this.title)},mounted(){d.on("response",t=>{t.success&&t.data[0].visible&&this.checkValidation()}),d.on("routeChanged",()=>{console.log("RECIEVED SIGNAL"),this.checkValidation()})},unmounted(){d.off("routeChanged"),d.off("response")}},Z=Object.assign(X,{__name:"ReleaseInfo",setup(t){return(s,a)=>s.display?(o(),r("span",M,[e("section",j,[a[3]||(a[3]=e("br",null,null,-1)),e("div",H,[e("div",A,[e("div",B,[e("img",{class:"card-img-top mb-5 mb-md-0",id:"releaseImage",src:s.release.imagePath,alt:"...",style:{"aspect-ratio":"1/1"}},null,8,F)]),e("div",G,[e("div",U,[c(i(s.release.date+" • ")+" ",1),e("span",{innerHTML:s.release.releaseType},null,8,Y)]),e("h1",q,i(s.release.title),1),e("p",{class:"lead",id:"releaseDescription",innerHTML:s.release.description},null,8,W),a[0]||(a[0]=S('<div class="d-flex"><a class="btn btn-outline-danger btn-social mx-1" href="https://www.youtube.com/@MarshallsOfVictory" id="releaseYoutube"><i class="fab fa-fw fa fa-brands fa-youtube"></i></a><a class="btn btn-outline-success btn-social mx-1" href="https://www.youtube.com/@MarshallsOfVictory" id="releaseSpotify"><i class="fab fa-fw fa fa-brands fa-spotify"></i></a></div>',1))])])]),e("div",z,[c(i(console.log("CREDITS KEYS"))+" ",1),(o(!0),r(u,null,g(Object.entries(s.release.credits),([l,n])=>(o(),r("span",null,[c(i(console.log(`${l}`))+" ",1),l!=""?(o(),r("span",J,[e("b",null,[e("span",{innerHTML:l},null,8,K),a[1]||(a[1]=c(": "))]),c(i(n),1)])):(o(),r("span",Q,i(n),1)),a[2]||(a[2]=e("br",null,null,-1))]))),256)),c(" "+i(f(d).emit("refreshTranslator")),1)])])])):m("",!0)}}),ee={data(){return{}},methods:{async makeRequest(t){try{const s=await b.post(t,{});this.$emit("response",{success:!0,data:s.data}),d.emit("response",{success:!0,data:s.data})}catch(s){this.$emit("response",{success:!1,error:s}),d.emit("response",{success:!1,error:s})}}},created(){let t="";this.makeRequest(t+this.action),console.log("REQUEST HTTP: "+t+this.action)},props:{action:{type:String,default:""}}},se=Object.assign(ee,{__name:"PHPDataDownloader",setup(t){return(s,a)=>null}}),te={class:"py-5 bg-light"},ae={class:"container px-4 px-lg-5 mt-5"},ne={key:0,class:"row gx-4 gx-lg-5 row-cols-2 row-cols-md-3 row-cols-xl-4 justify-content-left",id:"allReleases"},le={data(){return{html:"",pageLoaded:!1,releases:[],message:""}},methods:{onResponse(t){console.log("onResponse - RECIEVED EVENT"),console.log("Success: "+t.success),console.log("Data: "+JSON.stringify(t.data));var s=_();s.data.releases=t.data,this.pageLoaded=!0,d.emit("refreshTranslator")},async getReleases(){console.log("ENV:production")}},created(){this.getReleases()}},oe=Object.assign(le,{__name:"Main",setup(t){var s=_();return s.data.releases==null&&s.$patch({data:{releases:[]}}),(a,l)=>(o(),r(u,null,[p(D),p(Z),e("section",te,[e("div",ae,[l[0]||(l[0]=e("h2",{class:"fw-bolder mb-4"},[e("br"),e("span",{en:"All Releases",pl:"Wszystkie wydania"})],-1)),a.pageLoaded?(o(),r("div",ne,[(o(!0),r(u,null,g(f(s).data.releases,n=>(o(),r("span",null,[c(i(console.log("[DEB] Creating release: "+n.releaseID+", type: "+n.releaseType))+" ",1),p(N,{upcoming:n.upcoming,releaseID:n.releaseID,title:n.title,imageSrc:n.imagePath,type:n.releaseType,releaseDate:n.date},null,8,["upcoming","releaseID","title","imageSrc","type","releaseDate"])]))),256))])):m("",!0)])]),p(w),p(se,{action:"/assets/php/releases/getReleases.php",onResponse:a.onResponse},null,8,["onResponse"])],64))}}),re={id:"page-top"},ce={__name:"ReleasesView",setup(t){return(s,a)=>(o(),r("body",re,[p(oe)]))}};export{ce as default};
