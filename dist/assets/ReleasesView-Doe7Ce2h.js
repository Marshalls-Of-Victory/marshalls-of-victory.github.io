import{r as h,o,a as r,d as e,e as m,n as y,t as i,f as c,b as u,w as S,c as b,F as p,g as _,u as f,E as d,h as g,i as D,j as w,k as $}from"./index-BlvzNnGQ.js";const I={class:"col mb-5"},R={class:"card h-100"},E={key:0},v=["src"],x={class:"card-body p-4"},k={class:"text-center"},T={class:"fw-bolder"},L={class:"d-flex justify-content-center small mb-2"},V=["innerHTML"],P={class:"card-footer p-4 pt-0 border-top-0 bg-transparent"},C={class:"text-center"},N={data(){return{html:"<span en = 'Show more' pl = 'Pokaż więcej'></span>"}},computed:{link(){return"/releases?releaseID="+this.releaseID}},created(){console.log("Creating release: "+this.title)},props:{releaseID:{type:String,default:""},title:{type:String,default:"Example title"},imageSrc:{type:String,default:"https://dummyimage.com/600x700/dee2e6/6c757d.jpg"},type:{type:String,default:"Single"},releaseDate:{type:String,default:"22-11-2024"},upcoming:{type:Boolean,default:!1}}},O=Object.assign(N,{__name:"ReleaseItem",setup(s){return(t,a)=>{const l=h("RouterLink");return o(),r("div",I,[e("div",R,[s.upcoming?(o(),r("span",E,a[0]||(a[0]=[e("span",{class:"badge m-1 bg-danger",style:{position:"absolute","z-index":"999"},pl:"Premiera wkrótce",en:"Upcoming release"},null,-1)]))):m("",!0),e("img",{class:"card-img-top",src:s.imageSrc,alt:"...",style:y("filter: brightness("+(s.upcoming?50:100)+"%);")},null,12,v),e("div",x,[e("div",k,[e("h5",T,i(s.title),1),e("div",L,[c(i(s.releaseDate.split("-")[2]+" • ")+" ",1),e("span",{innerHTML:s.type,style:{"margin-left":"3px"}},null,8,V)])])]),e("div",P,[e("div",C,[u(l,{class:"btn btn-outline-dark mt-auto",to:`/releases?releaseID=${s.releaseID}`},{default:S(()=>a[1]||(a[1]=[e("span",{en:"Show more",pl:"Pokaż więcej"},null,-1)])),_:1},8,["to"])])])])])}}});class M{static getParameter(t){let a=null,l=[];return location.search.substr(1).split("&").forEach(function(n){l=n.split("="),l[0]===t&&(a=decodeURIComponent(l[1]))}),a}}const j={key:0},H={class:"py-5",id:"productParent"},A={class:"container px-4 px-lg-5 my-5"},B={class:"row gx-4 gx-lg-5 align-items-center"},F={class:"col-md-6"},G=["src"],z={class:"col-md-6"},U={class:"small mb-1",id:"releaseDate"},Y=["innerHTML"],q={class:"display-5 fw-bolder",id:"releaseTitle"},W=["innerHTML"],J={class:"container px-4 px-lg-5 my-5",id:"releaseCredits"},K={key:0},Q=["innerHTML"],X={key:1},Z={data(){return{display:!1,release:null}},methods:{checkValidation(){console.log("VALIDATION PROCESSSSSSSSSSSSSSSSSSSSS");let s=M.getParameter("releaseID"),t=g();console.log(t.data.releases),s!=null&&t.data.releases.find(a=>a.releaseID==s)!=null?(this.display=!0,this.release=t.data.releases.find(a=>a.releaseID==s),console.warn("DISPLAYING RELEASE INFO")):(this.display=!1,console.warn("WRONG ID PROVIDED"))}},created(){console.log("Creating release: "+this.title)},mounted(){d.on("response",s=>{s.success&&s.data[0].visible&&this.checkValidation()}),d.on("routeChanged",()=>{console.log("RECIEVED SIGNAL"),this.checkValidation()})},unmounted(){d.off("routeChanged"),d.off("response")}},ee=Object.assign(Z,{__name:"ReleaseInfo",setup(s){return(t,a)=>t.display?(o(),r("span",j,[e("section",H,[a[3]||(a[3]=e("br",null,null,-1)),e("div",A,[e("div",B,[e("div",F,[e("img",{class:"card-img-top mb-5 mb-md-0",id:"releaseImage",src:t.release.imagePath,alt:"...",style:{"aspect-ratio":"1/1"}},null,8,G)]),e("div",z,[e("div",U,[c(i(t.release.date+" • ")+" ",1),e("span",{innerHTML:t.release.releaseType},null,8,Y)]),e("h1",q,i(t.release.title),1),e("p",{class:"lead",id:"releaseDescription",innerHTML:t.release.description},null,8,W),a[0]||(a[0]=b('<div class="d-flex"><a class="btn btn-outline-danger btn-social mx-1" href="https://www.youtube.com/@MarshallsOfVictory" id="releaseYoutube"><i class="fab fa-fw fa fa-brands fa-youtube"></i></a><a class="btn btn-outline-success btn-social mx-1" href="https://www.youtube.com/@MarshallsOfVictory" id="releaseSpotify"><i class="fab fa-fw fa fa-brands fa-spotify"></i></a></div>',1))])])]),e("div",J,[c(i(console.log("CREDITS KEYS"))+" ",1),(o(!0),r(p,null,_(Object.entries(t.release.credits),([l,n])=>(o(),r("span",null,[c(i(console.log(`${l}`))+" ",1),l!=""?(o(),r("span",K,[e("b",null,[e("span",{innerHTML:l},null,8,Q),a[1]||(a[1]=c(": "))]),c(i(n),1)])):(o(),r("span",X,i(n),1)),a[2]||(a[2]=e("br",null,null,-1))]))),256)),c(" "+i(f(d).emit("refreshTranslator")),1)])])])):m("",!0)}}),se={data(){return{}},methods:{async makeRequest(s){try{const t=await D.post(s,{});this.$emit("response",{success:!0,data:t.data}),d.emit("response",{success:!0,data:t.data})}catch(t){this.$emit("response",{success:!1,error:t}),d.emit("response",{success:!1,error:t})}}},created(){let s="";this.makeRequest(s+this.action),console.log("REQUEST HTTP: "+s+this.action)},props:{action:{type:String,default:""}}},te=Object.assign(se,{__name:"PHPDataDownloader",setup(s){return(t,a)=>null}}),ae={class:"py-5 bg-light"},ne={class:"container px-4 px-lg-5 mt-5"},le={key:0,class:"row gx-4 gx-lg-5 row-cols-2 row-cols-md-3 row-cols-xl-4 justify-content-left",id:"allReleases"},oe={data(){return{html:"",pageLoaded:!1,releases:[],message:""}},methods:{onResponse(s){console.log("onResponse - RECIEVED EVENT"),console.log("Success: "+s.success),console.log("Data: "+JSON.stringify(s.data));var t=g();t.data.releases=s.data,this.pageLoaded=!0,d.emit("refreshTranslator")},async getReleases(){console.log("ENV:production")}},created(){this.getReleases()}},re=Object.assign(oe,{__name:"Main",setup(s){var t=g();return t.data.releases==null&&t.$patch({data:{releases:[]}}),(a,l)=>(o(),r(p,null,[u(w),u(ee),e("section",ae,[e("div",ne,[l[0]||(l[0]=e("h2",{class:"fw-bolder mb-4"},[e("br"),e("span",{en:"All Releases",pl:"Wszystkie wydania"})],-1)),a.pageLoaded?(o(),r("div",le,[(o(!0),r(p,null,_(f(t).data.releases,n=>(o(),r("span",null,[c(i(console.log("[DEB] Creating release: "+n.releaseID+", type: "+n.releaseType))+" ",1),u(O,{upcoming:n.upcoming,releaseID:n.releaseID,title:n.title,imageSrc:n.imagePath,type:n.releaseType,releaseDate:n.date},null,8,["upcoming","releaseID","title","imageSrc","type","releaseDate"])]))),256))])):m("",!0)])]),u($),u(te,{action:"/assets/php/releases/getReleases.php",onResponse:a.onResponse},null,8,["onResponse"])],64))}}),ie={id:"page-top"},de={__name:"ReleasesView",setup(s){return(t,a)=>(o(),r("body",ie,[u(re)]))}};export{de as default};
